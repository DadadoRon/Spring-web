<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/vuetify@3.3.15/dist/vuetify.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@3.3.15/dist/vuetify-labs.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@7.2.96/css/materialdesignicons.min.css" rel="stylesheet">

</head>
<body>

<div id="main">

    <router-view></router-view>
</div>

<template id="first">
    <v-app id="inspire">
        <v-app-bar >
                <v-container>
                    <v-row style="height: 35px">
                        <v-col class="d-flex justify-center" >
                            <span class="logo text-h5 font-weight-bold" @click="first" style="cursor: pointer;">SkinHealth</span>
                        </v-col>
                    </v-row >
                    <v-row>
                        <v-col></v-col>
                        <v-col class="d-flex justify-center">
                            <v-btn  @click="toProducts" >Услуги</v-btn>
                            <v-btn @click="toGoods">Товары</v-btn>
                            <v-btn @click="toPublications">Публикации</v-btn>
                        </v-col>
                        <v-col class="d-flex justify-end">
                            <v-btn @click="login">
                                <v-tooltip activator="parent" location="end">Войти</v-tooltip>
                                <v-icon>mdi-account</v-icon>
                            </v-btn>
                        </v-col>
                    </v-row>
                </v-container>
            </v-app-bar>
       <v-main class="d-flex align-center justify-center" style="min-height: 300px;">

           <v-container  v-if="mainContentNumber==1" >
               <v-row>
                   <v-col
                           v-for="(product, i) in products"
                           :key="i"
                           :cols="4"
                   >
                       <v-card class="mx-auto">
                           <v-img
                                   :src="product.imageName"
                                   class="align-end"
                                   gradient="to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"
                                   height="200px"
                                   cover
                           >
                           </v-img>
                           <v-card-title class="text-black" v-text="product.name"></v-card-title>

                           <v-card-actions class="justify-space-between">
                               <v-btn variant="tonal"  color="indigo-darken-2" @click="create" type="submit" >записаться</v-btn>
                               <v-btn  size="small" color="surface-variant" variant="text" icon="mdi-heart"></v-btn>
                           </v-card-actions>

                           <v-card-actions>
                               <v-btn variant="text" color="indigo-darken-2" @click="product.reveal = true">
                                   Подробно
                               </v-btn>
                           </v-card-actions>

                           <v-expand-transition>
                               <v-card v-if="product.reveal" class="v-card--reveal" style="height: 100%;">
                                   <v-card-text class="pb-0">
                                       <p class="text-h6 text--primary">
                                           {{ product.name }}
                                       </p>
                                       <p>{{ product.description }}</p>
                                   </v-card-text>
                                   <v-card-actions class="pt-0">
                                       <v-btn variant="text" color="teal-accent-4" @click="product.reveal = false">
                                           Закрыть
                                       </v-btn>
                                   </v-card-actions>
                               </v-card>
                           </v-expand-transition>
                       </v-card>
                   </v-col>
               </v-row>
           </v-container>



           <v-card v-if="mainContentNumber==2"
                    class="mx-auto"
                    max-width="344"
                    variant="outlined">
                <v-card-item style="height:450px; width: 1600px">
                    <div>
                        <div class="text-overline mb-1">OVERLINE</div>
                        <div class="text-h6 mb-1">Headline</div>
                        <div class="text-caption">Greyhound divisely hello coldly fonwderfully</div>
                    </div>
                </v-card-item>
                <v-card-actions>
                    <v-btn variant="outlined">Button</v-btn>
                </v-card-actions>
            </v-card>


           <v-container fluid  v-if="mainContentNumber==3" >
               <v-row dense>
                   <v-col
                           v-for="card in cards2"
                           :key="card.title"
                           :cols="card.flex"
                   >
                       <v-card >
                           <v-img
                                   :src="card.src"
                                   class="align-end"
                                   gradient="to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"
                                   height="200px"
                                   cover
                           ><v-card-title class="text-white text-body-2" v-text="card.title"></v-card-title>

                           </v-img>

                           <v-card-actions>
                               <v-btn size="small" color="surface-variant" variant="text" icon="mdi-heart"></v-btn>
                           </v-card-actions>

                           <v-card-actions>
                               <v-btn variant="text" color="indigo-darken-2" @click="reveal = true">
                                   Learn More
                               </v-btn>
                           </v-card-actions>

                           <v-expand-transition>
                               <v-card v-if="reveal" class="v-card--reveal" style="height: 100%;">
                                   <v-card-text class="pb-0">
                                       <p class="text-h6 text--primary">
                                           {{ card.title }}
                                       </p>
                                       <p>{{ card.description }}</p>
                                   </v-card-text>
                                   <v-card-actions class="pt-0">
                                       <v-btn
                                               variant="text"
                                               color="teal-accent-4"
                                               @click="reveal = false"
                                       >
                                           Close
                                       </v-btn>
                                   </v-card-actions>
                               </v-card>
                           </v-expand-transition>

                       </v-card>

                   </v-col>
               </v-row>
           </v-container>
       </v-main>

        <v-footer app color="grey" height="50">
            <v-row class="text-center align-center">
                   <v-col >
                       {{ new Date().getFullYear() }} — <strong>SkinHealth</strong>
                   </v-col>
               </v-row>
           </v-footer>
        </v-app>

        </div>
    </div>
</template>

<template id="login">
    <v-layout class="rounded rounded-md">
        <v-app-bar >
            <v-container>
                <v-row style="height: 35px">
                    <v-col class="d-flex justify-center" >
                        <span class="logo text-h5 font-weight-bold" @click="first" style="cursor: pointer;">SkinHealth</span>
                    </v-col>
                </v-row >
                <v-row>
                    <v-col></v-col>
                    <v-col class="d-flex justify-center">
                        <v-btn  @click="toHome" >Home</v-btn>
                        <v-btn @click="toRecents">Услуги</v-btn>
                        <v-btn @click="toFavorites">Публикации</v-btn>
                    </v-col>
                    <v-col class="d-flex justify-end">
                        <v-btn @click="first">
                            <v-tooltip activator="parent" location="end">Выйти</v-tooltip>
                            <v-icon>mdi-account</v-icon>
                        </v-btn>
                    </v-col>
                </v-row>
            </v-container>
        </v-app-bar>
        <v-main class="d-flex align-center justify-center" style="min-height: 650px;">
            <v-sheet width="400" class="mx-auto">
                <v-form  fast-fail @submit.prevent>
                    <v-text-field v-model="userEmail" label="Email" style="background-color: ghostwhite"></v-text-field>

                    <v-text-field v-model="userPassword" label="Password" style="background-color: ghostwhite"></v-text-field>

                    <v-btn @click="login"  type="submit" block class="mt-2" style="margin-bottom: 20px; background-color: #002848; color: aliceblue">Войти</v-btn>
                    <v-btn @click="registration"  type="submit" block class="mt-2" style="background-color: ghostwhite">Регистрация</v-btn>
                </v-form>
            </v-sheet>
        </v-main>
</v-layout>
</template>

<template id="users">
    <v-card>
        <v-layout>
            <v-navigation-drawer app width="275" >
                <v-list>
                    <v-list-item prepend-avatar="img/c1.png">
                        <v-list-item-content>
                            <v-list-item-title>{{user.firstName + ' ' + user.lastName}}</v-list-item-title>
                            <v-list-item-subtitle>{{user.email}}</v-list-item-subtitle>
                        </v-list-item-content>
                    </v-list-item>
                </v-list>

                <v-divider> </v-divider>
                <v-list  v-model:opened="open" density="compact" nav>
                    <v-list-item prepend-icon="mdi-home" title="Home"></v-list-item>
                <v-list-group value="Appointment">
                    <template v-slot:activator="{ props }">
                        <v-list-item
                                v-bind="props"
                                title="My appointments"
                        ></v-list-item>
                    </template>
                    <v-list-item
                            v-for="([title, icon], i) in appointments"
                            :key="i"
                            :title="title"
                            :prepend-icon="icon"
                            :value="title"
                            @click="handleAppointmentClick(title)"
                    ></v-list-item>
                </v-list-group>
                    <v-list density="compact" nav>
                        <v-list-item prepend-icon="mdi-cart-outline" title="My Orders" value="myorders" @click="toOrders"></v-list-item>
                    </v-list>
                    <v-list density="compact" nav>
                        <v-list-item prepend-icon="mdi-heart-outline" title="My Wishes" value="mywishes" @click="toWishes"></v-list-item>
                    </v-list>
                </v-list>
            </v-navigation-drawer>

            <v-main style="height: 100%">
                <v-app id="inspire">
                    <v-app-bar >
                        <v-container>
                            <v-row style="height: 35px">
                                <v-col class="d-flex justify-center" >
                                    <span class="logo text-h5 font-weight-bold" @click="first" style="cursor: pointer;">SkinHealth</span>
                                </v-col>
                            </v-row >
                            <v-row>
                                <v-col class="d-flex justify-center">
                                    <v-btn  @click="toProducts" >Услуги</v-btn>
                                    <v-btn @click="toGoods">Товары</v-btn>
                                    <v-btn @click="toPublications">Публикации</v-btn>
                                </v-col>
                            </v-row>
                        </v-container>
                    </v-app-bar>
                    <v-main class="d-flex align-center justify-center" style="min-height: 300px;">
                        <v-container  v-if="mainContentNumber==1" >
                            <v-row>
                                <v-col
                                        v-for="(product, i) in products"
                                        :key="i"
                                        :cols="4"
                                >
                                    <v-card class="mx-auto">
                                        <v-img
                                                :src="product.imageName"
                                                class="align-end"
                                                gradient="to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"
                                                height="200px"
                                                cover
                                        >
                                        </v-img>
                                        <v-card-title class="text-black" v-text="product.name"></v-card-title>

                                        <v-card-actions class="justify-space-between">
                                            <v-btn variant="tonal"  color="indigo-darken-2" @click="openBookingDialog(product.id)" type="submit" >записаться</v-btn>
                                            <v-btn  size="small" color="surface-variant" variant="text" icon="mdi-heart"></v-btn>
                                        </v-card-actions>

                                        <v-card-actions>
                                            <v-btn variant="text" color="indigo-darken-2" @click="product.reveal = true">
                                                Подробно
                                            </v-btn>
                                        </v-card-actions>

                                        <v-dialog v-model="dialog" max-width="600">
                                            <v-card>
                                                <v-card-title>Dialog Title</v-card-title>
                                                <v-card-text>
                                                    <label for="start">Start date:</label>
                                                    <input type="date" id="start" name="trip-start" v-model="selectedDate" value="00-00-00"
                                                           min="2023-11-21" max="2023-12-31" />
                                                    <v-chip-group mandatory selected-class="text-primary">
                                                        <v-chip v-for="tag in tags" :key="tag" @click="selectTime(tag)">
                                                            {{ tag }}
                                                        </v-chip>
                                                    </v-chip-group>
                                                </v-card-text>
                                                <v-card-actions>
                                                    <v-btn @click="saveAndCloseCreate">Save</v-btn>
                                                    <v-btn @click="close">Close</v-btn>
                                                </v-card-actions>
                                            </v-card>
                                        </v-dialog>
                                        <v-expand-transition>
                                            <v-card v-if="product.reveal" class="v-card--reveal" style="height: 100%;">
                                                <v-card-text class="pb-0">
                                                    <p class="text-h6 text--primary">
                                                        {{ product.name }}
                                                    </p>
                                                    <p>{{ product.description }}</p>
                                                </v-card-text>
                                                <v-card-actions class="pt-0">
                                                    <v-btn variant="text" color="teal-accent-4" @click="product.reveal = false">
                                                        Закрыть
                                                    </v-btn>
                                                </v-card-actions>
                                            </v-card>
                                        </v-expand-transition>
                                    </v-card>
                                </v-col>
                            </v-row>
                        </v-container>

                        <v-container fluid  v-if="mainContentNumber==2" >
                        <v-row dense>
                            <v-col
                                    v-for="card in cards"
                                    :key="card.title"
                                    :cols="card.flex"
                            >
                                <v-card >
                                    <v-img
                                            :src="card.src"
                                            class="align-end"
                                            gradient="to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"
                                            height="200px"
                                            cover
                                    ><v-card-title class="text-white text-body-2" v-text="card.title"></v-card-title>

                                    </v-img>

                                    <v-card-actions>
                                        <v-btn size="small" color="surface-variant" variant="text" icon="mdi-heart"></v-btn>
                                    </v-card-actions>

                                    <v-card-actions>
                                        <v-btn variant="text" color="indigo-darken-2" @click="reveal = true">
                                            Learn More
                                        </v-btn>
                                    </v-card-actions>

                                    <v-expand-transition>
                                        <v-card v-if="reveal" class="v-card--reveal" style="height: 100%;">
                                            <v-card-text class="pb-0">
                                                <p class="text-h6 text--primary">
                                                    {{ card.title }}
                                                </p>
                                                <p>{{ card.description }}</p>
                                            </v-card-text>
                                            <v-card-actions class="pt-0">
                                                <v-btn
                                                        variant="text"
                                                        color="teal-accent-4"
                                                        @click="reveal = false"
                                                >
                                                    Close
                                                </v-btn>
                                            </v-card-actions>
                                        </v-card>
                                    </v-expand-transition>

                                </v-card>

                            </v-col>
                        </v-row>
                        </v-container>

                        <v-container fluid  v-if="mainContentNumber==3" >
                            <v-row dense>
                                <v-col
                                        v-for="card in cards2"
                                        :key="card.title"
                                        :cols="card.flex"
                                >
                                    <v-card >
                                        <v-img
                                                :src="card.src"
                                                class="align-end"
                                                gradient="to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"
                                                height="200px"
                                                cover
                                        ><v-card-title class="text-white text-body-2" v-text="card.title"></v-card-title>

                                        </v-img>

                                        <v-card-actions>
                                            <v-btn size="small" color="surface-variant" variant="text" icon="mdi-heart"></v-btn>
                                        </v-card-actions>

                                        <v-card-actions>
                                            <v-btn variant="text" color="indigo-darken-2" @click="reveal = true">
                                                Learn More
                                            </v-btn>
                                        </v-card-actions>

                                        <v-expand-transition>
                                            <v-card v-if="reveal" class="v-card--reveal" style="height: 100%;">
                                                <v-card-text class="pb-0">
                                                    <p class="text-h6 text--primary">
                                                        {{ card.title }}
                                                    </p>
                                                    <p>{{ card.description }}</p>
                                                </v-card-text>
                                                <v-card-actions class="pt-0">
                                                    <v-btn
                                                            variant="text"
                                                            color="teal-accent-4"
                                                            @click="reveal = false"
                                                    >
                                                        Close
                                                    </v-btn>
                                                </v-card-actions>
                                            </v-card>
                                        </v-expand-transition>

                                    </v-card>

                                </v-col>
                            </v-row>
                        </v-container>

                        <v-container fluid  v-if="mainContentNumber==4" >
                            <v-row>
                                <v-col v-for="(userAppointment, i ) in userAppointments" :key="i" cols="12" md="4">
                                    <v-card>
                                        <v-card-title >{{ userAppointment.product.name }}</v-card-title>
                                        <v-card-text>Date:{{ (userAppointment.date) }}</v-card-text>
                                        <v-card-text>Time: {{ userAppointment.time }}</v-card-text>
                                        <v-card-actions>
                                            <v-btn small @click="editItem(userAppointment)">Edit</v-btn>
                                            <v-btn small @click="deleteItem(userAppointment)">Delete</v-btn>
                                        </v-card-actions>
                                    </v-card>

                                    <v-dialog v-model="dialogVisible" max-width="300">
                                        <v-card>
                                            <v-card-title>Dialog Title</v-card-title>
                                            <v-card-text>
                                                <v-container>
                                                    <v-row>
                                                        <v-col cols="12">
                                                            <v-text-title> {{ userAppointment.product.name }}</v-text-title>
                                                        </v-col>
                                                        <v-card-text>
                                                            <label for="start">Start date:</label>
                                                            <input type="date" id="start1" name="trip-start" v-model="editedItem.date" min="2010-11-21" max="2029-12-31" />
                                                            <v-chip-group mandatory selected-class="text-primary">
                                                                <v-chip v-for="tag in tags" :key="tag"  @click="changeSelectedTime(tag)">
                                                                    {{ tag }}
                                                                </v-chip>
                                                            </v-chip-group>
                                                        </v-card-text>
                                                    </v-row>
                                                </v-container>
                                            </v-card-text>
                                            <v-card-actions>
                                                <v-btn @click="saveAndClose">Save</v-btn>
                                                <v-btn @click="close">Close</v-btn>
                                            </v-card-actions>
                                        </v-card>
                                    </v-dialog>
                                    <v-dialog v-model="dialogDelete" max-width="500px">
                                        <v-card>
                                            <v-card-title class="text-h5">Are you sure you want to delete this item?</v-card-title>
                                            <v-card-actions>
                                                <v-spacer></v-spacer>
                                                <v-btn color="blue-darken-1" variant="text" @click="deleteUserAppointmentConfirm">OK</v-btn>
                                                <v-btn color="blue-darken-1" variant="text" @click="closeDelete">Cancel</v-btn>
                                                <v-spacer></v-spacer>
                                            </v-card-actions>
                                        </v-card>
                                    </v-dialog>
                                </v-col>
                            </v-row>
                        </v-container>

                        <v-container fluid  v-if="mainContentNumber==5" >
                                <v-timeline side="end" align="start">
                                    <v-timeline-item
                                            v-for="(item, index) in timelineItems"
                                            :key="index"
                                            dot-color="pink"
                                            size="small"
                                    >
                                        <div class="d-flex">
                                            <strong class="me-4">{{ item.time }}</strong>
                                            <div>
                                                <strong>{{ item.title }}</strong>
                                                <div class="text-caption">
                                                    {{ item.category }}
                                                </div>
                                            </div>
                                        </div>
                                    </v-timeline-item>
                            </v-timeline>
                        </v-container>
                    </v-main>
                </v-app>

            </v-main>
        </v-layout>
    </v-card>

</template>

<template id="admins">
    <v-card>
        <v-layout>
            <v-navigation-drawer>
                <v-list>
                    <v-list-item prepend-avatar="img/c1.png">
                        <v-list-item-content>
                            <v-list-item-title>{{user.firstName + ' ' + user.lastName}}</v-list-item-title>
                            <v-list-item-subtitle>{{user.email}}</v-list-item-subtitle>
                        </v-list-item-content>
                    </v-list-item>
                </v-list>

                <v-divider> </v-divider>

                <v-list density="compact" nav>
                    <v-list-item prepend-icon="mdi-home" title="Home" value="home" @click="toHome" ></v-list-item>
                    <v-list-item prepend-icon="mdi-table" title="Users" value="users" @click="toUsersTable" ></v-list-item>
                    <v-list-item prepend-icon="mdi-table" title="Products" value="products" @click="toProductsTable"></v-list-item>
                    <v-list-item prepend-icon="mdi-table" title="UserAppointment" value="userAppointment" @click="toUserAppointmentsTable"></v-list-item>

                    <v-list-item prepend-icon="mdi-star" title="Starred" value="starred"></v-list-item>
                </v-list>
            </v-navigation-drawer>
            <v-main style="height: 100%">
                <v-app id="inspire">
                    <v-app-bar >
                        <v-container>
                            <v-row style="height: 35px">
                                <v-col class="d-flex justify-center" >
                                    <span class="logo text-h5 font-weight-bold" @click="first" style="cursor: pointer;">SkinHealth</span>
                                </v-col>
                            </v-row >
                        </v-container>
                    </v-app-bar>

                    <v-main >
                        <v-container fluid  v-if="mainContentNumber==1" >
                        </v-container>
                        <v-container fluid  v-if="mainContentNumber==2" >
                            <div>
                                <v-data-table
                                    v-model:items-per-page="itemsPerPage"
                                    :headers="headers"
                                    :items="numberedItems"
                                    class="elevation-1">
                                    <template v-slot:headers>
                                        <tr>
                                            <th v-for="(header, index) in headers" :key="index">
                                                <template v-if="header.key === 'lastName'">
                                                    <v-text-field
                                                        v-model="lastNameSearchTerm"
                                                        label="Last name"
                                                        density="compact"
                                                        prepend-inner-icon="mdi-magnify"
                                                        single-line
                                                        flat
                                                        hide-details
                                                        variant="solo"
                                                        @change="search"
                                                ></v-text-field>
                                                </template>
                                                <template v-else-if="header.key === 'email'">
                                                    <v-text-field
                                                            v-model="emailSearchTerm"
                                                            label="Email"
                                                            density="compact"
                                                            prepend-inner-icon="mdi-magnify"
                                                            single-line
                                                            flat
                                                            hide-details
                                                            variant="solo"
                                                            @change="search"
                                                    ></v-text-field>
                                                </template>
                                                <template v-else-if="header.key === 'firstName'">
                                                    <v-text-field
                                                            v-model="firstNameSearchTerm"
                                                            label="First name"
                                                            density="compact"
                                                            prepend-inner-icon="mdi-magnify"
                                                            single-line
                                                            flat
                                                            hide-details
                                                            variant="solo"
                                                            @change="search"
                                                    ></v-text-field>
                                                </template>
                                                <template v-else>
                                                    {{ header.title }}
                                                </template>
                                            </th>
                                        </tr>
                                    </template>
                                    <template v-slot:top>
                                        <v-toolbar flat>
                                            <v-toolbar-title>List of users</v-toolbar-title>
                                            <v-divider class="mx-1" inset vertical></v-divider>
                                            <v-spacer></v-spacer>
                                            <v-dialog v-model="dialog" max-width="500px">
                                                <template v-slot:activator="{ props }">
                                                    <v-btn color="primary" dark class="mb-2" v-bind="props">New User</v-btn>
                                                </template>
                                            <v-card>
                                                <v-card-title>
                                                    <span class="text-h5">{{ formTitle }}</span>
                                                </v-card-title>
                                                <v-card-text>
                                                    <v-container>
                                                        <v-row>
                                                            <v-col cols="12" >
                                                                <v-text-field v-model="editedItem.firstName" label="First name"></v-text-field>
                                                            </v-col>
                                                            <v-col cols="12" >
                                                                <v-text-field v-model="editedItem.lastName" label="Last name"></v-text-field>
                                                            </v-col>
                                                            <v-col cols="12" >
                                                                <v-text-field v-model="editedItem.email" label="Email"></v-text-field>
                                                            </v-col>
                                                            <v-col cols="12" >
                                                                <v-text-field v-model="editedItem.password" label="Password"></v-text-field>
                                                            </v-col>
                                                             <v-col cols="12" >
                                                                <v-autocomplete
                                                                        v-model="editedItem.role"
                                                                        label="Role"
                                                                        :items="['USER', 'ADMIN']"
                                                                ></v-autocomplete>
                                                            </v-col>
                                                            <v-col cols="12" >
                                                                <v-text-field name="Confirmpassword" label="Confirm password"></v-text-field>
                                                            </v-col>
                                                        </v-row>
                                                    </v-container>
                                                </v-card-text>
                                                <v-card-actions>
                                                    <v-spacer></v-spacer>
                                                    <v-btn color="blue-darken-1" variant="text" @click="close">Cancel</v-btn>
                                                    <v-btn color="blue-darken-1" variant="text" @click="saveUser">Save</v-btn>
                                                </v-card-actions>
                                            </v-card>
                                        </v-dialog>
                                        <v-dialog v-model="dialogDelete" max-width="500px">
                                            <v-card>
                                                <v-card-title class="text-h5">Are you sure you want to delete this item?</v-card-title>
                                                <v-card-actions>
                                                    <v-spacer></v-spacer>
                                                    <v-btn color="blue-darken-1" variant="text" @click="closeDelete">Cancel</v-btn>
                                                    <v-btn color="blue-darken-1" variant="text" @click="deleteUserConfirm">OK</v-btn>
                                                    <v-spacer></v-spacer>
                                                </v-card-actions>
                                            </v-card>
                                        </v-dialog>
                                    </v-toolbar>
                                </template>
                                <template v-slot:item.actions="{ item }">
                                    <v-icon size="small" class="me-2" @click="editItem(item.raw)">mdi-pencil</v-icon>
                                    <v-icon size="small" @click="deleteItem(item.raw)">mdi-delete</v-icon>
                                </template>
                            </v-data-table>
                        </div>
                        </v-container>
                        <v-container fluid  v-if="mainContentNumber==3" >
                            <div v-if="products.length === 0">
                                The list is empty
                            </div>
                            <div v-else>
                                <v-data-table
                                        v-model:items-per-page="itemsPerPage"
                                        :headers="headersProducts"
                                        :items="numberedProducts"
                                        class="elevation-1">
                                    <template v-slot:top>
                                        <v-toolbar flat>
                                            <v-toolbar-title>List of products</v-toolbar-title>
                                            <v-divider class="mx-1" inset vertical></v-divider>
                                            <v-spacer></v-spacer>
                                            <v-dialog v-model="dialog" max-width="500px">
                                                <template v-slot:activator="{ props }">
                                                    <v-btn color="primary" dark class="mb-2" v-bind="props">New Product</v-btn>
                                                </template>
                                                <v-card>
                                                    <v-card-title>
                                                        <span class="text-h5">{{ formTitle }}</span>
                                                    </v-card-title>
                                                    <v-card-text>
                                                        <v-container>
                                                            <v-row>
                                                                <v-col cols="12" >
                                                                    <v-text-field v-model="editedItem.name" label="Name"></v-text-field>
                                                                </v-col>
                                                                <v-col cols="12" >
                                                                    <v-textarea v-model="editedItem.description" label="Description" ></v-textarea>
                                                                </v-col>
                                                                <v-col cols="12" >
                                                                    <v-text-field v-model="editedItem.price" label="Price"></v-text-field>
                                                                </v-col>
                                                                <v-col cols="12" >
                                                                    <v-text-field v-model="editedItem.imageName" label="ImageName"></v-text-field>
                                                                </v-col>
                                                            </v-row>
                                                        </v-container>
                                                    </v-card-text>
                                                    <v-card-actions>
                                                        <v-spacer></v-spacer>
                                                        <v-btn color="blue-darken-1" variant="text" @click="close">Cancel</v-btn>
                                                        <v-btn color="blue-darken-1" variant="text" @click="saveProduct">Save</v-btn>
                                                    </v-card-actions>
                                                </v-card>
                                            </v-dialog>
                                            <v-dialog v-model="dialogDelete" max-width="500px">
                                                <v-card>
                                                    <v-card-title class="text-h5">Are you sure you want to delete this item?</v-card-title>
                                                    <v-card-actions>
                                                        <v-spacer></v-spacer>
                                                        <v-btn color="blue-darken-1" variant="text" @click="closeDelete">Cancel</v-btn>
                                                        <v-btn color="blue-darken-1" variant="text" @click="deleteProductConfirm">OK</v-btn>
                                                        <v-spacer></v-spacer>
                                                    </v-card-actions>
                                                </v-card>
                                            </v-dialog>
                                        </v-toolbar>
                                    </template>
                                    <template v-slot:item.actions="{ item }">
                                        <v-icon size="small" class="me-2" @click="editItem(item.raw)">mdi-pencil</v-icon>
                                        <v-icon size="small" @click="deleteItem(item.raw)">mdi-delete</v-icon>
                                    </template>
                                </v-data-table>
                            </div>
                        </v-container>
                        <v-container fluid  v-if="mainContentNumber==4" >
                            <div v-if="userAppointments.length === 0">
                                The list is empty
                            </div>
                            <div v-else>
                                <v-data-table
                                        v-model:items-per-page="itemsPerPage"
                                        :headers="headersUserAppointments"
                                        :items="numberedUserAppointments"
                                        class="elevation-1">
                                    <template v-slot:top>
                                        <v-toolbar flat>
                                            <v-toolbar-title>List of UserAppointments</v-toolbar-title>
                                            <v-divider class="mx-1" inset vertical></v-divider>
                                            <v-spacer></v-spacer>
                                            <v-dialog v-model="dialog" max-width="500px">
                                                <template v-slot:activator="{ props }">
                                                    <v-btn color="primary" dark class="mb-2" v-bind="props">New UserAppointment</v-btn>
                                                </template>

                                                <v-card>
                                                    <v-card-title>
                                                        <span class="text-h5">{{ formTitle }}</span>
                                                    </v-card-title>

                                                    <v-card-text>
                                                        <v-container>
                                                            <v-row>
                                                                <v-col cols="12" >
                                                                <label for="start">
                                                                    Date:
                                                                </label>
                                                                    <v-row>
                                                                        <v-col>
                                                                            <input type="datetime-local" id="start2" name="trip-start" v-model="editedItem.dateTime" min="2024-06-01T00:00" max="2029-12-31T23:59"/>
                                                                        </v-col>
                                                                        <v-col>
                                                                            <v-autocomplete
                                                                                variant="outlined"
                                                                                v-model="editItem.timeZone"
                                                                                :items="timeZones"
                                                                                item-title="value"
                                                                                item-value="value"
                                                                                label="Select Time Zone"
                                                                            ></v-autocomplete>
                                                                        </v-col>
                                                                    </v-row>
                                                                </v-col>
                                                                <v-col cols="12" >
                                                                    <div v-if="editedIndex > -1">Product: {{ editedItem.product.name }}</div>
                                                                </v-col>
                                                                <v-col cols="12" >
                                                                    <div v-if="editedIndex <= -1">
                                                                    <v-autocomplete
                                                                            v-model="editedItem.productId"
                                                                            label="Product"
                                                                            :items="products"
                                                                            item-title="name"
                                                                            item-value="id"
                                                                    ></v-autocomplete>
                                                                    </div>
                                                                </v-col>
                                                                    <v-col cols="12" >
                                                                        <div v-if="editedIndex > -1">
                                                                            User: {{ editedItem.user.firstName }} {{ editedItem.user.lastName }}</div>
                                                                    </v-col>
                                                                    <v-col cols="12" >
                                                                        <div v-if="editedIndex <= -1">
                                                                            <v-autocomplete
                                                                            v-model="editedItem.userId"
                                                                            label="User"
                                                                            :items="users"
                                                                            :item-title="user => `${user.lastName} ${user.firstName}`"
                                                                            item-value="id"
                                                                            ></v-autocomplete>
                                                                        </div>
                                                                    </v-col>
                                                            </v-row>
                                                        </v-container>
                                                    </v-card-text>

                                                    <v-card-actions>
                                                        <v-spacer></v-spacer>
                                                        <v-btn color="blue-darken-1" variant="text" @click="close">Cancel</v-btn>
                                                        <v-btn color="blue-darken-1" variant="text" @click="saveUserAppointment">Save</v-btn>
                                                    </v-card-actions>

                                                </v-card>
                                            </v-dialog>
                                            <v-dialog v-model="dialogDelete" max-width="500px">
                                                <v-card>
                                                    <v-card-title class="text-h5">Are you sure you want to delete this item?</v-card-title>
                                                    <v-card-actions>
                                                        <v-spacer></v-spacer>
                                                        <v-btn color="blue-darken-1" variant="text" @click="closeDelete">Cancel</v-btn>
                                                        <v-btn color="blue-darken-1" variant="text" @click="deleteUserAppointmentConfirm">OK</v-btn>
                                                        <v-spacer></v-spacer>
                                                    </v-card-actions>
                                                </v-card>
                                            </v-dialog>
                                        </v-toolbar>
                                    </template>
                                    <template v-slot:item.actions="{ item }">
                                        <v-icon size="small" class="me-2" @click="editItem(item.raw)">mdi-pencil</v-icon>
                                        <v-icon size="small" @click="deleteItem(item.raw)">mdi-delete</v-icon>
                                    </template>
                                </v-data-table>
                            </div>
                        </v-container>

                    </v-main>
                </v-app>
            </v-main>
        </v-layout>
    </v-card>
</template>

<template id="edit">
    <div class="container-fluid mt-5">
        <div class="row" >
            <div class="col-md-4"></div>
            <div class="col-md-3">
                <h1 style="font-family: Consolas"> update </h1>
                <form>
                    <div class="mb-3">
                        <label  class="form-label" >First name</label>
                        <input type="text" class="form-control"  v-model="user.firstName"/>
                    </div>
                    <div class="mb-3">
                        <label  class="form-label" >Last name</label>
                        <input type="text" class="form-control" v-model="user.lastName"/>
                    </div>
                    <div class="mb-3">
                        <label  class="form-label" >Email</label>
                        <input type="text" class="form-control" v-model="user.email"/>
                    </div>
                    <div class="mb-3">
                        <label  class="form-label" >Password</label>
                        <input type="text" class="form-control" v-model="user.password"/>
                    </div>
                    <div class="mb-3">
                        <label  class="form-label" > Confirm Password</label>
                        <input type="text" class="form-control" />
                    </div>
                    <button @click="update" class="btn btn-primary btn-sm; mt-2"> update</button>
                </form>
                <form>
                    <button @click="remove" class="btn btn-primary btn-sm; mt-2"> delete</button>
                </form>
            </div>
            <div class="col-md-4" ></div>
        </div>
    </div>
</template>

<template id="create">
    <v-layout class="rounded rounded-md">
        <v-app-bar >
            <v-container>
                <v-row justify="center"  style="height: 40px">
                    <v-col cols="4" style="font-size: 25px;font-weight: bold; text-align: center">
                        <span class="logo text-h5 font-weight-bold" @click="first" style="cursor: pointer;">SkinHealth</span>
                    </v-col>
                </v-row>
                <v-row justify="end">
                    <v-col cols="4" style="text-align: center">
                        <v-btn @click="toHomeAndChangeColor" >Home</v-btn>
                        <v-btn @click="toRecents">Recents</v-btn>
                        <v-btn @click="toFavorites">Favorites</v-btn>
                    </v-col>
                    <v-col cols="4" style="text-align: right">
                        <v-btn @click="first">
                            <v-tooltip activator="parent" location="end">Выйти</v-tooltip>
                            <v-icon>mdi-account</v-icon>
                        </v-btn>
                    </v-col>
                </v-row>
            </v-container>
        </v-app-bar>
        <v-main class="d-flex align-center justify-center" style="min-height: 650px;">
            <v-sheet width="400" class="mx-auto">
                <v-form ref="form">
                    <v-text-field
                            v-model="user.firstName"
                            :rules="firstNameRules"
                            label="First name"
                            style="background-color: ghostwhite"
                    ></v-text-field>
                    <v-text-field
                            v-model="user.lastName"
                            :rules="lastNameRules"
                            label="Last name"
                            style="background-color: ghostwhite"
                            required
                    ></v-text-field>
                    <v-text-field v-model="user.email"
                                  :rules="emailRules"
                                  label="Email"
                                  style="background-color: ghostwhite"
                    ></v-text-field>
                    <v-text-field v-model="user.password"
                                  :rules="passwordRules"
                                  :counter="8"
                                  label="Password"
                                  style="background-color: ghostwhite"
                    ></v-text-field>
                    <v-text-field
                            v-model="confirmPassword"
                            :rules="confirmPasswordRules"
                            label="Password confirmation"
                            style="background-color: ghostwhite"
                    ></v-text-field>
                    <v-btn @click="validateAndCreate"
                           type="submit"
                           block class="mt-2"
                           style="margin-bottom: 20px;
                           background-color: #002848;
                           color: aliceblue"
                    >Зарегистрироваться</v-btn>
                    <v-btn @click="reset"
                           type="submit"
                           block class="mt-2"
                           style="margin-bottom: 20px;
                           background-color: #002848;
                           color: aliceblue"
                    >Очистить</v-btn>
                </v-form>
            </v-sheet>
        </v-main>
    </v-layout>
</template>



</body>
<script src="https://unpkg.com/vue@3.2.36/dist/vue.global.js"></script>
<script src="https://unpkg.com/vue-router@4.0.15/dist/vue-router.global.js"></script>
<script src="https://unpkg.com/axios@1.5.0/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vuetify@3.3.15/dist/vuetify.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vuetify@3.3.15/dist/vuetify-labs.js"></script>
<script src="axios.js"></script>

<script type="module" src="main.js"></script>
<script type="module" src="login.js"></script>

</html>
